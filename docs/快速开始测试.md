# 快速开始 - 无需Docker

## 1. 安装Python依赖

```bash
pip install openai qdrant-client python-dotenv
```

## 2. 设置OpenAI API Key

### 方式A: 环境变量（推荐）

```bash
# Windows CMD
set OPENAI_API_KEY=sk-your-api-key-here

# Windows PowerShell
$env:OPENAI_API_KEY="sk-your-api-key-here"

# Git Bash
export OPENAI_API_KEY=sk-your-api-key-here
```

### 方式B: 创建.env文件

在当前目录创建 `.env` 文件：

```
OPENAI_API_KEY=sk-your-api-key-here
```

然后在脚本开头加载：

```python
from dotenv import load_dotenv
load_dotenv()
```

## 3. 直接运行测试

```bash
cd "D:\导出聊天记录excel"
python test_embedding_pipeline.py
```

## 说明

✅ **无需Docker** - 使用Qdrant本地文件存储模式
✅ **数据持久化** - 存储在 `./qdrant_local_storage` 目录
✅ **低成本** - 约$0.008（不到1分钱）
✅ **快速** - 5分钟左右完成

## 测试流程

脚本会自动：
1. 加载"成都乖巧萌"对话（8.5万条消息）
2. 切分为~2000个会话片段
3. 生成增强文本（包含时间、参与者、对话内容）
4. 批量生成embeddings
5. 存储到本地向量数据库
6. 运行3个检索测试案例

## 查看结果

测试完成后会显示：
- 每个检索查询的Top 5结果
- 相似度分数
- 时间、参与者信息
- 对话预览

数据保存在：
- `qdrant_local_storage/` - 向量数据库
- `sample_sessions.json` - 前10个会话片段示例
